<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Создать запись</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">

<h1 class="mb-4">Создать запись</h1>

<form th:action="@{/appointments/add}" th:object="${appointment}" method="post" class="card p-4">

    <div class="mb-3">
        <label class="form-label">Клиент:</label>
        <select class="form-select" th:field="*{client}" required>
            <option value=""> Выберите клиента </option>
            <option th:each="c : ${clients}" th:value="${c.id}" th:text="${c.name}"></option>
        </select>
        <div class="text-danger" th:if="${#fields.hasErrors('client')}" th:errors="*{client}"></div>
    </div>

    <div class="mb-3">
        <label class="form-label">Сотрудник:</label>
        <select class="form-select" th:field="*{employee}" required>
            <option value=""> Выберите сотрудника </option>
            <option th:each="e : ${employees}" th:value="${e.id}" th:text="${e.name}"></option>
        </select>
        <div class="text-danger" th:if="${#fields.hasErrors('employee')}" th:errors="*{employee}"></div>
    </div>

    <div class="mb-3">
        <label class="form-label">Услуга:</label>
        <select class="form-select" th:field="*{service}" required>
            <option value=""> Выберите услугу </option>
            <option th:each="s : ${services}" th:value="${s.id}" th:text="${s.name}"></option>
        </select>
        <div class="text-danger" th:if="${#fields.hasErrors('service')}" th:errors="*{service}"></div>
    </div>

    <div class="mb-3">
        <label class="form-label"> Дата и время:</label>
        <input type="datetime-local" class="form-control"
               th:field="*{dateTime}"
               th:attr="min=${minDate}, max=${maxDate}"
               required>
        <div class="text-danger" th:if="${#fields.hasErrors('dateTime')}" th:errors="*{dateTime}"></div>
    </div>

    <div class="d-flex gap-2 mt-3">
        <button type="submit" class="btn btn-success btn-sm px-3 py-1">Создать</button>
        <a href="/appointments" class="btn btn-secondary btn-sm px-3 py-1">Назад</a>
    </div>

</form>

</body>
</html>
